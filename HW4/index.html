<!DOCTYPE html>
<html>
    <head>
        <title>Choose Your Own Adventure</title>
        <meta lang="en">
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" type="text/css" href="./css/fonts.css">
        <link rel="stylesheet" type="text/css" href="./css/style.css">
    </head>
    <body>
        <div id="container">
            <h1>The House</h1>
            <img id="image" src="./images/front_door.jpg" style="width: 40%; height: auto;">
            <div id="storyText">
                You climb the front steps of the house. <br>A wave of fear washes over you as you walk up 
                to the dark front doorway, its weathered door already open as if you are being invited in.
                <br>The small split-level entryway looms in front of you, one staircase going up and another going down.
                <br>Do you go <i>UP</i> or <i>DOWN</i>
            </div>
            <br>
            <input id="playerChoice" type="text">
            <br>
            <br>
            <button onclick="changeStory(document.getElementById('playerChoice').value)">Choice</button>
            <button onclick="restartGame()">Restart</button>
            <br>
        </div>
        <script>
            var page = 0
            function changeStory(choice){
                var choice = choice.toLowerCase();
                var storyOver = false
                while (!storyOver){
                    if (page == 0){
                        if (choice == "up"){
                            document.getElementById("storyText").innerHTML = `You decide to go upstairs. The stairs creak under your weight as you climb.
                        <br>You seem to climb for much longer than should have been possible in such a small house.
                        <br>You attempt to push the strange stairs out of your mind as you finally reach the second floor.
                        <br>You find yourself standing in front of a hallway with one door on either side. <br>Do you open the 
                        door on the <i>LEFT</i> or <i>RIGHT</i>?`
                        page = 1
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/stairs.jpg";
                        }
                        else if (choice == "down"){
                            document.getElementById("storyText").innerHTML = `You decide to go downstairs and emerge into a dirty kitchen.
                        Dirty dishes litter the sink and counters. <br>As you begin to explore the kitchen, you
                        hear a faint noise from the next room over. <br>You listen hard and can just barely make
                        out the quiet whimpering of a small child. <br>This house has been abandoned for several
                        decades so nobody should be here. <br>Do you <i>INVESTIGATE</i> the sound just incase someone is 
                        in trouble, or do you <i>RUN</i> the other way?`
                        page = 2
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/kitchen.jpg";
                        }
                    }
                    if (page == 1){
                        if (choice == "left"){
                            document.getElementById("storyText").innerHTML = `You walk up to the door on the left, 
                        cautiously grabbing the door handle and turning. <br>The second you open the door, a rush
                        of freezing wind hits you and your vision dims. <br>You feel yourself slipping into 
                        unconsciousness and attempt to fight it to no avail. <br>Right before your vision goes dark,
                        you see a dark figure smiling at you from the other side of the room. <h1>Game Over</h1>`
                        page = 3
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/dark_door.jpg";
                        document.getElementById("storyText").style.color = "red";
                        }
                        else if (choice == "right"){
                            document.getElementById("storyText").innerHTML = `You decide to try the door on the right. You begin
                        to reach for the door handle, but quickly pull your hand away as you hear a bloodcurdling 
                        scream from the other side. <br>You're not taking any chances with whatever the hell that was
                        and you turn around, running down the stairs that are suddenly much shorter than when you went up.
                        <br>You once again try to forget about the strange stairs and burst through the front door out onto
                        the street. <br>Turning around you see a dark figure in the window of the right room. <h1>You escaped the house!</h1>`
                        page = 4
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/door.jpg";
                        }
                    }
                    if (page == 2){
                        if (choice == "investigate"){
                            document.getElementById("storyText").innerHTML = `Against you better judgement, you decide
                        to make sure whoever is crying is ok. <br>You take a few very cautious steps into the living
                        room when you notice a dark figure in the corner of the room. <br>As you look at this figure,
                        your fear is suddenly replaced with comfort. <br>You can't remember why you came to the house
                        in the first place, but it doesn't matter. You slowly walk into the room and sit down on 
                        the couch. <br>As the darkness slowly takes your vision, you smile knowing that you never have
                        to leave. <h1>Game Over</h1>`
                        page = 5
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/living.jpg";
                        document.getElementById("storyText").style.color = "red";
                        }
                        else if (choice == "run"){
                            document.getElementById("storyText").innerHTML = `There's no way you are going to see who's crying.
                        <br>This house has been abandoned for decades so whatever is in the other room is not a person.
                        <br>You decide that you've had enough for the night and turn toward the stairs. <br>Reaching the entryway,
                        you throw open the front door and run out onto the street. <h1>You escaped the house!</h1>`
                        page = 6    
                        document.getElementById("playerChoice").value = ""
                        document.getElementById("image").src = "./images/door.jpg";
                        }
                    }
                    break;
                }
            }
            function restartGame(){
                page = 0
                document.getElementById("storyText").innerHTML = `You climb the front steps of the house. <br>A wave of fear washes over you as you walk up 
                to the dark front doorway, its weathered door already open as if you are being invited in.
                <br>The small split-level entryway looms in front of you, one staircase going up and another going down.
                <br>Which one do you take?`
                document.getElementById("image").src = "./images/front_door.jpg";
            }
        </script>
    </body>
</html>